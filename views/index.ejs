<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="/scripts/angular/angular.js"></script>

    <script src="/scripts/angular-route/angular-route.js"></script>
    <script src="/javascripts/angular-app.js"></script>
    <script src="/javascripts/angular-user.js"></script>
    <script src="/javascripts/angular-ingredients.js"></script>
    <script src="/javascripts/angular-inout.js"></script>
    <script src="/javascripts/angular-order.js"></script>
    <script src="/javascripts/angular-vendors.js"></script>
    <script src="/javascripts/angular-routing.js"></script>
    <link rel='stylesheet' href='/scripts/bootstrap/dist/css/bootstrap.css'>
    <link rel='stylesheet' href="/scripts/font-awesome/css/font-awesome.css">
    <link rel='stylesheet' href='/stylesheets/style.css'>
    <title>6 Degrees CRM</title>
</head>

<body ng-app="CRM" ng-controller="mainCtrl">
<!--EJS use of messages from backend services -->
<% if (messages.error)  { %>
<div class="alert alert-danger"><%- messages.error %></div>
<% } %>
<% if (messages.success)  { %>
<div class="alert alert-success"><%- messages.success %></div>
<% } %>
<nav class="navbar navbar-inverse navbar-fixed-top" ng-init="isLoggedIn()" ng-hide="!loggedIn">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" ng-class="{disabled:!hidePopup}" href="#"><%= title %></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li ng-repeat="item in navigation" ng-class="{disabled:!hidePopup}"><a href="{{item.path}}">{{item.name}}</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li id="user-logout">
                    <div>Hello, <b>{{ user.username }}</b></div>
                    <a ng-click="logout()" ng-class="{disabled:!hidePopup}">logout</a>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>
<div class="alert" ng-hide="msgHidden" ng-class="{'alert-success':msgSuccess, 'alert-danger': !msgSuccess}">
    <i class="fa fa-check-circle" aria-hidden="true" ng-hide="!msgSuccess"></i>
    <i class="fa fa-exclamation-circle" aria-hidden="true" ng-hide="msgSuccess"></i>
    {{msg}}
</div>
<div class="container" ng-view></div>
</body>
</html>